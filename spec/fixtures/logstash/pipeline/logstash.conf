###
### Logstash configuration for tests
###
input {
  tcp {
    port => "5000"
    codec => "plain"
    type => "test"
  }
  heartbeat {
    interval => 10
    type => "heartbeat"
  }
}

output {
  stdout {
    codec => rubydebug { metadata => true }
  }
  if [type] == "test" {
    file {
      path => "/usr/share/logstash/data/events.json"
      codec => "json"
    }
  }
}
